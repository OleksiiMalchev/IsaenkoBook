<!DOCTYPE html>
<html lang="ua" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>MainPage</title>
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <!-- <style>body{opacity: 0;}</style> -->
    <link rel="stylesheet" href="css/style.min.css?_v=20230424235853">
    <link rel="shortcut icon" href="favicon.ico">
    <!-- <meta name="robots" content="noindex, nofollow"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
<div class="wrapper">
    <header class="header">
        <div class="header__container">
            <a th:href="@{/}" class="header__brand">Dr. Issaenko</a>
            <div class="header__right">
                <!-- <Start change lang> -->
                <div data-da=".menu__body, 992, first" data-spollers class="header__langs langs">
                    <div class="langs__body">
                        <button type="button" data-spoller class="langs__current" style="width: 120px; display: flex; justify-content: center; align-items: center;">[[#{language}]]
                            <svg width="19" height="11" viewBox="0 0 19 11" fill="none">
                                <path d="M10.3014 10.2277L19 1.61493L17.3971 -1.67163e-07L9.5 7.81699L1.60291 5.23223e-07L-4.10234e-07 1.61493L8.69859 10.2277L9.50004 11L10.3014 10.2277Z" fill="#7A40ED" />
                            </svg>
                        </button>
                        <div class="langs__list">
                            <button type="button" onclick="window.location.href='/change-locale?locale=messages_uk'" class="langs__item">[[#{button.ukrainian}]]</button>
                            <button type="button" onclick="window.location.href='/change-locale?locale=messages_ru'" class="langs__item">[[#{button.russian}]]</button>
                            <button type="button" onclick="window.location.href='/change-locale?locale=messages_en'" class="langs__item">[[#{button.english}]]</button>
                        </div>
                    </div>
                </div>
                <!-- <Stop change lang> -->

                <a th:href="@{/cart}"class="header__cart cart" onclick="sendRequest()"><span>[[#{button.cart}]]</span>
                    <div class="cart__quantity"></div>
                    <div class="cart__icon">
                        <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19.9385 4.12224L17.7957 9.80652C17.6561 10.1762 17.3009 10.4213 16.9037 10.4213H7.21271L7.58739 11.6449C7.71032 12.0463 8.0767 12.3159 8.49841 12.3159H17.1429V14.2107H8.49841C7.23262 14.2107 6.13425 13.4017 5.76547 12.1971L2.80135 2.51923C2.67906 2.15524 2.31584 1.89481 1.90531 1.89481H0V0H1.90531C3.13665 0 4.22625 0.780776 4.61592 1.94333L4.89127 2.84214H19.0468C19.7116 2.84214 20.1719 3.50286 19.9385 4.1222L19.9385 4.12224ZM7.14259 15.1579C6.35369 15.1579 5.71402 15.7942 5.71402 16.5789C5.71402 17.3638 6.35369 18 7.14259 18C7.93148 18 8.57116 17.3637 8.57116 16.5789C8.57116 15.7942 7.93165 15.1579 7.14259 15.1579ZM16.6667 15.1579C15.8778 15.1579 15.2381 15.7942 15.2381 16.5789C15.2381 17.3637 15.8778 18 16.6667 18C17.4556 18 18.0952 17.3637 18.0952 16.5789C18.0952 15.7942 17.4556 15.1579 16.6667 15.1579Z" fill="white" />
                        </svg>
                    </div>
                </a>
            </div>
        </div>

        <div class="cart-info">
            <div class="cart-info__header">
                <h2 class="cart-info__title">[[#{button.cart}]]</h2>
                <div class="cart-info__close">
                    <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.228129 0.22813C0.532301 -0.0760435 1.0253 -0.0760435 1.32931 0.22813L5 3.89884L8.67069 0.22813C8.97486 -0.0760435 9.46786 -0.0760435 9.77187 0.22813C10.076 0.532304 10.076 1.02531 9.77187 1.32932L6.10118 5.00003L9.77187 8.67075C10.076 8.97492 10.076 9.46793 9.77187 9.77194C9.4677 10.0761 8.9747 10.0759 8.67069 9.77194L5 6.10122L1.32931 9.77194C1.02514 10.0759 0.532139 10.0759 0.228129 9.77194C-0.076043 9.46776 -0.076043 8.97476 0.228129 8.67075L3.89882 5.00003L0.228129 1.32932C-0.076043 1.02515 -0.076043 0.532142 0.228129 0.22813Z" fill="black" />
                    </svg>
                </div>
            </div>
            <div class="cart-info__allquantity">
                <div class="cart-info__allquantity-total" th:text="${#lists.isEmpty(session.cartItems) ? 0 : #lists.size(session.cartItems)} + ' шт.'"></div>
                <form th:action="@{/carts/clear}" th:method="POST" >
                    <button type="submit" class="cart-info__clear">[[#{remove.all}]]</button>
                </form>
            </div>
            <div class="cart-info__body" th:each="items: ${session.cartItems}">
                <div class="info-order__item">
                    <div class="info-order__img">
                        <picture>
                        </picture>
                    </div>
                    <div class="info-order__details">
                        <h4 class="info-order__book" th:text="${items.bookRespDTO.title}" ></h4>
                        <div class="info-order__price" th:text="${items.bookRespDTO.price}"></div>
                        <div class="info-order__version" th:text="${items.bookRespDTO.formatBook}"></div>
                        <div data-quantity class="quantity">
                            <button data-quantity-minus type="button" class="quantity__button quantity__button_minus"></button>
                            <div class="quantity__input">
                                <input data-quantity-value autocomplete="off" type="text" name="form[]" value="1">
                            </div>
                            <button data-quantity-plus type="button" class="quantity__button quantity__button_plus"></button>
                        </div>
                    </div>
                    <div class="info-order__del">
                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.31938 0.319383C0.745221 -0.106461 1.43542 -0.106461 1.86104 0.319383L7 5.45838L12.139 0.319383C12.5648 -0.106461 13.255 -0.106461 13.6806 0.319383C14.1065 0.745226 14.1065 1.43543 13.6806 1.86105L8.54166 7.00005L13.6806 12.139C14.1065 12.5649 14.1065 13.2551 13.6806 13.6807C13.2548 14.1066 12.5646 14.1063 12.139 13.6807L7 8.54171L1.86104 13.6807C1.4352 14.1063 0.744994 14.1063 0.31938 13.6807C-0.10646 13.2549 -0.10646 12.5647 0.31938 12.139L5.45834 7.00005L0.31938 1.86105C-0.10646 1.43521 -0.10646 0.744999 0.31938 0.319383Z" fill="#BDBDBD" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="cart-info__total">
                <span class="cart-info__total-label">[[#{total}]]</span>
                <span class="cart-info__total-value" th:text="${session.totalPrice != null ? session.totalPrice : 0}"></span>
            </div>
            <a href="/checkout" class="btn btn-acent cart-info__btn">[[#{go.to.order}]]</a>
        </div>
    </header>


    <main class="page-order">
        <section class="section order">
            <div class="order__container">
                <h2 class="section__title order__title">[[#{formalization}]]</h2>
                <div class="order-grid">
                    <form action="/pay" method="POST">
                        <div class="order-grid__main main-order">
                            <div class="main-order__group">
                                <fieldset class="form__fieldset">
                                    <div class="form__row">
                                        <input autocomplete="off" type="text" name="firstName" data-required data-validate th:placeholder="#{name}" class="form__input">
                                    </div>
                                    <div class="form__row">
                                        <input autocomplete="off" type="text" name="lastName" data-required data-validate th:placeholder="#{last.name}" class="form__input">
                                    </div>
                                    <div class="form__row">
                                        <input autocomplete="off" type="tel" name="mobile" data-required data-validate th:placeholder="#{telephone}" class="form__input">
                                    </div>
                                    <div class="form__row">
                                        <input autocomplete="off" type="email" name="email" data-required data-validate th:placeholder="#{email}" class="form__input">
                                    </div>
                                </fieldset>
                            </div>
                            <div class="main-order__group">
                                <h3 class="main-order__title">[[#{data.for.delivery}]]</h3>
                                <fieldset class="form__fieldset">
                                    <div class="form__row">
                                        <input autocomplete="off" type="text" name="country" data-required data-validate th:placeholder="#{country}" class="form__input">
                                    </div>
                                    <div class="form__row">
                                        <input autocomplete="off" type="text" name="city" data-required data-validate th:placeholder="#{city}" class="form__input">
                                    </div>
                                    <div class="form__row">
                                        <input autocomplete="off" type="text" name="address" data-required data-validate th:placeholder="#{address}" class="form__input">
                                    </div>
                                    <div class="form__row">
                                        <input autocomplete="off" type="text" name="postOffice" data-required data-validate th:placeholder="#{name.number.post.office}" class="form__input">
                                    </div>
                                </fieldset>
                                <div class="main-order__group-info">
                                    <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M1.50507Z" fill="#7A40ED" />
                                    </svg>
                                    [[#{other.countries}]]
                                </div>
                            </div>
                            <button type="submit" class="btn btn-acent main-order__btn">[[#{pay.order}]]</button>
                        </div>
                    </form>




                    <div class="order-grid__info">
                        <h3 class="info-order__title">[[#{your.order}]]</h3>
                        <div class="info-order__inner">
                            <div class="info-order__item" th:each="items: ${session.cartItems}">
                                <div class="info-order__img">
                                    <picture><source srcset="img/main/books/book-1.webp" type="image/webp"><img src="img/main/books/book-1.png" alt=""></picture>
                                </div>
                                <div class="info-order__details">
                                    <h4 class="info-order__book" th:text="${items.bookRespDTO.title}" ></h4>
                                    <div class="info-order__price" th:text="${items.bookRespDTO.price}"></div>
                                    <div class="info-order__version" th:text="${items.bookRespDTO.formatBook}"></div>
                                    <div data-quantity class="quantity">
                                        <button data-quantity-minus type="button" class="quantity__button quantity__button_minus"></button>
                                        <button data-quantity-plus type="button" class="quantity__button quantity__button_plus"></button>
                                    </div>

                                </div>
                            </div>
                            <div class="info-order__total">
                                <span class="info-order__total-label">[[#{info.to.pay}]]</span>
                                <span class="cart-info__total-value" th:text="${session.totalPrice != null ? session.totalPrice : 0}"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <!-- <Start footer> -->
    <div th:replace="~{fragments/footer :: footer}"></div>
    <!-- <End footer> -->
</div>
<script src="js/app.min.js?_v=20230424235853"></script>
</body>

</html>